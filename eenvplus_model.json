{
   "name" : "eenvplus",
   "locale":"en",
   "processor" : [{"tag" : "DATA", 
                   "type" : "dm", 
                   "table" : "dm_date", 
                   "value" : "year", 
                   "pkey" : "id",
                   "fkey" : "data_id"},
                  {"tag" : "GEO", 
                   "type" : "dm", 
                   "table" : "dm_geographyloures", 
                   "value" : "freguesia_code",
                   "pkey" : "gid",
                   "fkey" : "geographyloures_id"},
                  {"tag" : "VALOR", 
                   "type" : "ft", 
                   "table" : "ft_corine", 
                   "value" : "artificial_surface",
                   "pkey" : "id",
                   "fkey" : "none"}],
   "cubes": [
        {
            "name": "cos",
            "label": "Carta ocupacao solo",
            "measures" : [
                {"name": "artificial_surface", "label": "Superfície artificial", "info": {"units": "m2", "name": "Superfície artificial"}}
            ],
            "dimensions": [
               {"name": "geographyloures", "hierarchies": ["default"]},
               "date"
               ],
             "joins": [
                {"master": "geographyloures_id", "detail": "dm_geographyloures.gid"},
                {"master": "date_id", "detail": "dm_date.id"}
            ],


             "aggregates": [
                     {"name": "artificial_surface sum", "function": "sum", "measure": "artificial_surface"}
                ]
        },

        {
         "name": "corine",
         "label": "Corine Land Cover",
            "measures" : [
                {"name": "artificial_surface", "label": "Superfície artificializada", "info": {"units": "m2", "name": "Superfície artificial"}}
            ],
            "dimensions": [
              "geographyloures",
              "date"
            ],
            "joins": [
              {"master": "geography_id", "detail": "dm_geographyloures.gid"},
              {"master": "date_id", "detail": "dm_date.id"}
            ],
            "aggregates": [
               {"name": "artificial_surface sum", "function": "sum", "measure": "artificial_surface"}

            ]
        }

    ],



    "dimensions": [

              {
              "name":"date",
              "label":"Data",
              "levels" : [

                  {
                    "name":"year",
                    "key":"year",
                    "label": "ano",
                    "attributes": [
                        {"name":"year", "label": "ano"}
                        ]
                  },

                {
                    "name":"month_year",
                    "key":"month_year",
                    "label": "mes ano",
                    "attributes": [
                        {"name":"month_year", "label": "mes ano"}
                        ]
                  },

                  {
                    "name":"month_name",
                    "key":"month_name",
                    "label": "nome mes",
                    "attributes": [
                        {"name":"month_name", "label": "nome mes"}
                        ]
                  },

                   {
                      "name":"date",
                        "key": "id",
                        "label_attribute": "data",
                        "attributes": [{"name":"id"}, {"name":"data", "label": "data"}]
                   }
                   ],
                 "hierarchy": ["year", "month_year", "month_name", "date"]

              },

              {
               "name":"geographyloures",
               "label":"Localização",
               "levels" : [
                 {
                   "name":"freguesia",
                   "key": "freguesia",
                     "attributes": [
                       {"name":"freguesia_code", "label": "freguesia code"},
                       {"name":"freguesia", "label": "freguesia"}
                      ]
                 },
                 {
                   "name":"areas",
                   "key":"areas",
                   "attributes": [
                       {"name":"areas_code", "label": "areas code"},
                       {"name":"areas", "label": "areas"}
                       ]
               }
               ],
               "hierarchies": [{
                   "name": "default",
                   "levels": ["freguesia", "areas"]
               }]
             }


     ]


}
